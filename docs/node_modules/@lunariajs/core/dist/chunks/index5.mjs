import { loadConfig } from '../config/index.mjs';
import { handleShallowRepo } from '../status/git.mjs';
import { getLocalizationStatus } from '../status/index.mjs';
import 'node:fs';
import 'node:path';
import '../cli/console.mjs';
import '@clack/core';
import 'picocolors';
import '../shared/core.47b71d59.mjs';
import 'node:module';
import 'zod';
import '../shared/core.69eed5f0.mjs';
import 'node:os';
import 'simple-git';
import 'fast-glob';
import 'micromatch';
import 'path-to-regexp';
import 'ultramatter';

async function stdout(options) {
  const configPath = options.config ?? "./lunaria.config.json";
  const { userConfig } = await loadConfig(configPath);
  const isShallowRepo = await handleShallowRepo(userConfig);
  const status = await getLocalizationStatus(userConfig, isShallowRepo);
  console.log(JSON.stringify([userConfig, status]));
}

export { stdout };
